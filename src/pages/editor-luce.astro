---
import Layout from '../layouts/Layout.astro';
import HeaderFixed from '../components/HeaderFixed.astro';
---

<Layout>
  <HeaderFixed />
  
  <main class="editor-page">
    <div class="editor-layout">
      <aside class="controls-panel">
        <div class="panel-header">
          <h2>EFFETTI DI LUCE</h2>
        </div>

        <div class="control-section">
          <h3>Parametri</h3>
          <div class="control-group">
            <label for="seed">Seed</label>
          <input type="number" id="seed" value="12345" min="1" max="999999">
        </div>

        <div class="control-group">
          <label for="patternType">Tipo Pattern</label>
          <select id="patternType">
            <option value="diagonal-grid">Griglia Diagonale</option>
            <option value="moire">Effetto Moiré</option>
          </select>
        </div>

        <div class="control-group">
          <label for="gridRows">Righe Griglia</label>
          <input type="range" id="gridRows" min="3" max="20" value="8" step="1">
          <span class="value-display" id="gridRowsValue">8</span>
        </div>

        <div class="control-group">
          <label for="gridCols">Colonne Griglia</label>
          <input type="range" id="gridCols" min="3" max="15" value="7" step="1">
          <span class="value-display" id="gridColsValue">7</span>
        </div>

        <div class="control-group">
          <label for="lineCount">Numero Linee</label>
          <input type="range" id="lineCount" min="5" max="50" value="20" step="1">
          <span class="value-display" id="lineCountValue">20</span>
        </div>

        <div class="control-group">
          <label for="rotationAngle">Angolo Rotazione</label>
          <input type="range" id="rotationAngle" min="0" max="90" value="45" step="5">
          <span class="value-display" id="rotationAngleValue">45°</span>
        </div>

        <div class="control-group">
          <label for="animationSpeed">Velocità Animazione</label>
          <input type="range" id="animationSpeed" min="0" max="2" value="0.3" step="0.1">
          <span class="value-display" id="animationSpeedValue">0.3</span>
        </div>

        <div class="control-group">
          <label for="depth">Profondità</label>
          <input type="range" id="depth" min="0" max="100" value="50" step="5">
          <span class="value-display" id="depthValue">50</span>
        </div>

        <div class="control-group">
          <label for="perspective">Prospettiva</label>
          <input type="range" id="perspective" min="0" max="100" value="40" step="5">
          <span class="value-display" id="perspectiveValue">40</span>
        </div>
        </div>

        <div class="control-section">
          <h3>Colore</h3>
          <div class="control-group">
            <label for="colorScheme">Schema Colore</label>
          <select id="colorScheme">
            <option value="green">Verde</option>
            <option value="blue">Blu</option>
            <option value="cyan">Ciano</option>
            <option value="white">Bianco</option>
            <option value="yellow">Giallo</option>
            <option value="orange">Arancione</option>
          </select>
        </div>

        <div class="control-group">
          <label for="brightness">Luminosità</label>
          <input type="range" id="brightness" min="0" max="100" value="80" step="5">
          <span class="value-display" id="brightnessValue">80</span>
        </div>
        </div>

        <div class="button-group">
          <button id="regenerate" class="btn-primary">Rigenera</button>
          <button id="downloadPNG" class="btn-secondary">Scarica PNG</button>
        </div>

        <a href="/editor" class="back-link">← Torna ai generatori</a>
      </aside>

      <section class="canvas-section">
        <div id="canvasContainer" class="canvas-container"></div>
        <div id="exportStatus" class="export-status"></div>
      </section>
    </div>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js" is:inline></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gif.js/0.2.0/gif.js" is:inline></script>
  <script src="/js/lightEffectsEditor.js" is:inline></script>
</Layout>

<style>
  @import '../assets/editor.css';
</style>
</Layout>