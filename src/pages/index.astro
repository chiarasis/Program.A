---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import '../assets/home.css';
---
<Layout page="home">
	<!-- Hero section with p5 canvas -->
	<section class="hero-section">
		<!-- Video intro overlay (inside hero section) -->
		<div id="video-intro" class="video-intro-overlay">
			<video id="intro-video" autoplay muted playsinline>
				<source src="/programa .webm" type="video/webm">
			</video>
		</div>
		
		<div id="p5-root" aria-hidden="true"></div>
	</section>

	<Header includeStyles={false} />

	<!-- Content section with geometric backgrounds -->
	<section class="content-section">
		<div class="content-wrapper">
			<!-- Block 1 -->
			<article class="content-block block-1">
				<div class="text-content">
					<h4>Gruppo N a Bruno Munari, 12 gennaio 1962</h4>
					<p>"Riteniamo il titolo Arte Programmata il più appropriato <br> a definire i 
					nostri esperimenti, per la maggior parte <br> dei nostri lavori sarà da precisare che 
					il programmatore dell'opera è lo stesso spettatore che sceglie una visione piuttosto 
					che un'altra oppure ne determina delle variazioni indeterminabili cogliendo l'oggetto 
					nel movimento della sua visuale."</p>
				</div>
			</article>
	
		<div id="valori"> <h2> I valori dell'arte programmata </h2> </div>		
			
		<div class="row-group">
			<div class="content-geo-pair">
				<article class="content-block block-2">
					<div class="floating-squares"></div>
					<div class="text-content">
						<h3> SPETTATORE CO-CREATORE</h3>
						<p>L'arte programmata mira a offrire al pubblico una piattaforma materiale che possa 
							includerlo come co-creatore dell'opera. 
							<br> Automatizzando la realizzazione dell'opera, 
							<br> si richiede un'attività concreta da parte dello spettatore, coinvolto sul piano 
							psicologico <br> e percettivo.</p>
					</div>
				</article>
			</div>

			<div class="content-geo-pair">
				<section class="geometric-section geo-1">
					<div class="geo-container"></div>
				</section>
			</div>
		</div>

		<div class="row-group">
			<div class="content-geo-pair">
				<section class="geometric-section geo-2">
					<div class="geo-container"></div>
				</section>
			</div>

			<div class="content-geo-pair">
				<article class="content-block block-3">
					<div class="floating-squares"></div>
					<div class="text-content">
						<h3>STRUTTURA APERTA</h3>
						<p>Le forme sono finite, logiche e definite, ma <br> la loro manifestazione nello spazio e 
							nel tempo, come oggetti concreti in movimento, le rende infinite, imprevedibili e 
							prossime alla pura casualità.</p>
					</div>
				</article>
			</div>
		</div>

		<div class="row-group">
			<div class="content-geo-pair">
				<article class="content-block block-4">
					<div class="floating-squares"></div>
					<div class="text-content">
						<h3>CINETISMO E MUTAZIONE </h3>
						<p>I meccanismi creano il movimento, scoprendo la realtà sempre cangiante del mondo 
							fenomenico. L'analisi dei fenomeni percettivi diviene la chiave per la scoperta 
							di nuovi valori"</p>
					</div>
				</article>
			</div>

			<div class="content-geo-pair">
				<article class="content-block block-5">
					<div class="floating-squares"></div>
					<div class="text-content">
						<h3>EFFETTO PROGRAMMATO </h3>
						<p>Ad essere "programmata" in senso tecnico o elettronico è tanto l'opera d'arte 
							quanto l'effetto che essa avrà sullo spettatore. L'artista è un tecnico che 
							interpreta la realtà e i fenomeni visivi in senso scientifico e metodico. L'opera, 
							realizzata sulla base di calcoli, ripetizioni, variazioni  di sequenze di forme, 
							colori e pattern visivi, è concepita alla stregua di una funzione algoritmica.</p>
					</div>
				</article>
			</div>
		</div>
	</div>
	</section>

	<Footer includeStyles={false} />

	<script type="module" src="/js/p5-boot.mjs" is:inline></script>
	<script src="/js/scroll-animations.js" is:inline></script>
	<script src="/js/floatingSquares.js" is:inline></script>
	<script src="/js/geometricShapes.js" is:inline></script>
	
	<script is:inline>
		// Video intro handler
		const videoIntro = document.getElementById('video-intro');
		const introVideo = document.getElementById('intro-video');
		
		if (videoIntro && introVideo) {
			// When video ends, freeze on last frame and overlay on hero section
			introVideo.addEventListener('ended', () => {
				videoIntro.classList.add('video-ended');
				// Allow interaction through the video overlay
				videoIntro.style.pointerEvents = 'none';
			});
			
			// Force play on load
			introVideo.play().catch(err => console.log('Autoplay prevented:', err));
		}
	</script>
</Layout>
